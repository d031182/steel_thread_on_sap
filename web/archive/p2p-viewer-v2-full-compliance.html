<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Invoices - SAP Fiori</title>
    <link href="https://fonts.googleapis.com/css2?family=72:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* SAP Fiori Horizon Theme - Complete Design Tokens */
        :root {
            /* Semantic Colors */
            --sapPositiveColor: #107e3e;
            --sapNegativeColor: #bb0000;
            --sapCriticalColor: #e9730c;
            --sapInformationColor: #0a6ed1;
            --sapNeutralColor: #6a6d70;
            
            /* Background Colors */
            --sapBackgroundColor: #f5f6f7;
            --sapBaseColor: #ffffff;
            --sapShellColor: #354a5f;
            
            /* Text Colors */
            --sapTextColor: #32363a;
            --sapLinkColor: #0a6ed1;
            --sapTitleColor: #32363a;
            
            /* Button Design Tokens */
            --sapButton_Primary_Background: #0070f2;
            --sapButton_Primary_TextColor: #ffffff;
            --sapButton_Primary_Hover_Background: #0064d9;
            --sapButton_Accept_Background: #107e3e;
            --sapButton_Reject_Background: #bb0000;
            --sapButton_Attention_Background: #e9730c;
            --sapButton_Disabled_Background: #efefef;
            --sapButton_Disabled_TextColor: #a7a7a7;
            
            /* Spacing */
            --sapContent_MarginSize: 1rem;
            
            /* Font */
            --sapFontFamily: '72', '72full', Arial, Helvetica, sans-serif;
            --sapFontSize: 0.875rem;
            
            /* Borders */
            --sapField_BorderColor: #89919a;
            --sapField_Focus_BorderColor: #0070f2;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--sapFontFamily);
            font-size: var(--sapFontSize);
            background-color: var(--sapBackgroundColor);
            color: var(--sapTextColor);
            line-height: 1.5;
        }

        /* Shell Bar with Navigation */
        .sapShellBar {
            background-color: var(--sapShellColor);
            color: white;
            padding: 0.75rem 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .sapShellBar .backButton {
            background: none;
            border: none;
            color: white;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            transition: background-color 0.2s;
        }

        .sapShellBar .backButton:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sapShellBar .logo {
            font-size: 1.125rem;
            font-weight: 700;
        }

        .sapShellBar .title {
            flex: 1;
            font-size: 1rem;
            font-weight: 400;
        }

        .sapShellBar .actions {
            display: flex;
            gap: 0.5rem;
        }

        .sapShellIconButton {
            background: none;
            border: none;
            color: white;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.25rem;
            transition: background-color 0.2s;
        }

        .sapShellIconButton:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Container */
        .sapContainer {
            max-width: 1440px;
            margin: 0 auto;
            padding: var(--sapContent_MarginSize);
        }

        /* List Report Structure */
        .sapListReport {
            background-color: var(--sapBaseColor);
            border-radius: 0.25rem;
            box-shadow: 0 0 0.125rem 0 rgba(0,0,0,0.1);
        }

        /* Filter Bar - NEW from Extended Guidelines */
        .sapFilterBar {
            padding: 1rem;
            border-bottom: 1px solid #e5e5e5;
            background-color: var(--sapBaseColor);
        }

        .sapFilterBar .title {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sapFilterBarContent {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .sapFilterField {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .sapFilterField label {
            font-size: 0.75rem;
            font-weight: 400;
            color: var(--sapNeutralColor);
        }

        .sapFilterField select,
        .sapFilterField input {
            font-family: var(--sapFontFamily);
            font-size: 0.875rem;
            padding: 0.5rem;
            border: 1px solid var(--sapField_BorderColor);
            border-radius: 0.25rem;
            background-color: var(--sapBaseColor);
            color: var(--sapTextColor);
        }

        .sapFilterField select:focus,
        .sapFilterField input:focus {
            outline: none;
            border-color: var(--sapField_Focus_BorderColor);
            box-shadow: 0 0 0 1px var(--sapField_Focus_BorderColor);
        }

        .sapFilterBarSearch {
            grid-column: 1 / -1;
        }

        .sapFilterBarSearch input {
            width: 100%;
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
        }

        .sapFilterBarActions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        /* Table Toolbar - NEW from Extended Guidelines */
        .sapTableToolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background-color: var(--sapBackgroundColor);
            border-bottom: 1px solid #e5e5e5;
        }

        .sapTableTitle {
            font-size: 1rem;
            font-weight: 700;
            color: var(--sapTextColor);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sapTableTitle .count {
            font-weight: 400;
            color: var(--sapNeutralColor);
        }

        .sapTableToolbarActions {
            display: flex;
            gap: 0.5rem;
        }

        /* Responsive Table */
        .sapTableContainer {
            overflow-x: auto;
        }

        .sapTable {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            font-size: 0.875rem;
        }

        .sapTable thead {
            background-color: var(--sapBackgroundColor);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .sapTable th {
            padding: 0.75rem 1rem;
            text-align: left;
            font-weight: 700;
            color: var(--sapTextColor);
            border-bottom: 2px solid #e5e5e5;
            font-size: 0.75rem;
            text-transform: uppercase;
            white-space: nowrap;
        }

        .sapTable td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e5e5e5;
            color: var(--sapTextColor);
        }

        .sapTable tbody tr {
            cursor: pointer;
            transition: background-color 0.15s;
        }

        .sapTable tbody tr:hover {
            background-color: rgba(0, 112, 242, 0.03);
        }

        .sapTable tbody tr.selected {
            background-color: rgba(0, 112, 242, 0.08);
        }

        /* Footer Toolbar - NEW from Extended Guidelines */
        .sapFooterToolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            background-color: var(--sapBaseColor);
            border-top: 1px solid #e5e5e5;
            position: sticky;
            bottom: 0;
        }

        .sapFooterToolbarLeft {
            display: flex;
            gap: 0.5rem;
        }

        .sapFooterToolbarRight {
            display: flex;
            gap: 0.5rem;
        }

        /* Button Styles - Complete from Extended Guidelines */
        .sapButton {
            font-family: var(--sapFontFamily);
            font-size: 0.875rem;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 400;
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
        }

        .sapButton:disabled {
            background-color: var(--sapButton_Disabled_Background);
            color: var(--sapButton_Disabled_TextColor);
            cursor: not-allowed;
            opacity: 0.5;
        }

        .sapButton:not(:disabled):hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }

        .sapButton:not(:disabled):active {
            transform: translateY(0);
        }

        .sapButtonEmphasized {
            background-color: var(--sapButton_Primary_Background);
            color: var(--sapButton_Primary_TextColor);
        }

        .sapButtonEmphasized:not(:disabled):hover {
            background-color: var(--sapButton_Primary_Hover_Background);
        }

        .sapButtonDefault {
            background-color: transparent;
            color: var(--sapButton_Primary_Background);
            border: 1px solid var(--sapButton_Primary_Background);
        }

        .sapButtonTransparent {
            background-color: transparent;
            color: var(--sapTextColor);
            border: 1px solid transparent;
        }

        .sapButtonTransparent:not(:disabled):hover {
            background-color: rgba(0, 112, 242, 0.05);
        }

        .sapButtonAccept {
            background-color: var(--sapButton_Accept_Background);
            color: white;
        }

        .sapButtonReject {
            background-color: var(--sapButton_Reject_Background);
            color: white;
        }

        .sapButtonAttention {
            background-color: var(--sapButton_Attention_Background);
            color: white;
        }

        /* Object Status */
        .sapObjectStatus {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .sapStatusSuccess {
            background-color: rgba(16, 126, 62, 0.1);
            color: var(--sapPositiveColor);
        }

        .sapStatusError {
            background-color: rgba(187, 0, 0, 0.1);
            color: var(--sapNegativeColor);
        }

        .sapStatusWarning {
            background-color: rgba(233, 115, 12, 0.1);
            color: var(--sapCriticalColor);
        }

        .sapStatusInfo {
            background-color: rgba(10, 110, 209, 0.1);
            color: var(--sapInformationColor);
        }

        .sapStatusNeutral {
            background-color: rgba(106, 109, 112, 0.1);
            color: var(--sapNeutralColor);
        }

        /* Modal Dialog - NEW from Extended Guidelines */
        .sapDialog {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            align-items: center;
            justify-content: center;
        }

        .sapDialog.active {
            display: flex;
        }

        .sapDialogContent {
            background-color: var(--sapBaseColor);
            border-radius: 0.5rem;
            box-shadow: 0 0.5rem 2rem rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .sapDialogHeader {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sapDialogHeader h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--sapTitleColor);
        }

        .sapDialogCloseButton {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--sapNeutralColor);
            padding: 0.25rem;
            line-height: 1;
        }

        .sapDialogCloseButton:hover {
            color: var(--sapTextColor);
        }

        .sapDialogBody {
            padding: 1.5rem;
            overflow-y: auto;
            flex: 1;
        }

        .sapDialogFooter {
            padding: 1rem 1.5rem;
            border-top: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
        }

        .sapDialogFooterLeft {
            display: flex;
            gap: 0.5rem;
        }

        .sapDialogFooterRight {
            display: flex;
            gap: 0.5rem;
        }

        /* Form in Dialog */
        .sapForm {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .sapFormField {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .sapFormField label {
            font-size: 0.875rem;
            font-weight: 400;
            color: var(--sapTextColor);
        }

        .sapFormField label .required {
            color: var(--sapNegativeColor);
            margin-left: 0.125rem;
        }

        .sapFormField input,
        .sapFormField select {
            font-family: var(--sapFontFamily);
            font-size: 0.875rem;
            padding: 0.5rem;
            border: 1px solid var(--sapField_BorderColor);
            border-radius: 0.25rem;
            background-color: var(--sapBaseColor);
            color: var(--sapTextColor);
        }

        .sapFormField input:focus,
        .sapFormField select:focus {
            outline: none;
            border-color: var(--sapField_Focus_BorderColor);
            box-shadow: 0 0 0 1px var(--sapField_Focus_BorderColor);
        }

        .sapFormField input.error {
            border-color: var(--sapNegativeColor);
        }

        .sapFormField .errorMessage {
            font-size: 0.75rem;
            color: var(--sapNegativeColor);
            margin-top: 0.25rem;
        }

        .sapFormField .helperText {
            font-size: 0.75rem;
            color: var(--sapNeutralColor);
            margin-top: 0.25rem;
        }

        /* Value Help Button */
        .sapInputWithHelp {
            position: relative;
        }

        .sapValueHelpButton {
            position: absolute;
            right: 0.25rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--sapButton_Primary_Background);
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            font-size: 1rem;
        }

        .sapValueHelpButton:hover {
            color: var(--sapButton_Primary_Hover_Background);
        }

        /* Message Strip */
        .sapMessageStrip {
            padding: 0.75rem 1rem;
            border-radius: 0.25rem;
            margin: 1rem 0;
            font-size: 0.875rem;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .sapMessageStripInfo {
            background-color: rgba(10, 110, 209, 0.1);
            border-left: 4px solid var(--sapInformationColor);
        }

        .sapMessageStripSuccess {
            background-color: rgba(16, 126, 62, 0.1);
            border-left: 4px solid var(--sapPositiveColor);
        }

        .sapMessageStripWarning {
            background-color: rgba(233, 115, 12, 0.1);
            border-left: 4px solid var(--sapCriticalColor);
        }

        .sapMessageStripError {
            background-color: rgba(187, 0, 0, 0.1);
            border-left: 4px solid var(--sapNegativeColor);
        }

        .sapMessageStrip .icon {
            font-size: 1.25rem;
            line-height: 1;
        }

        .sapMessageStrip .content {
            flex: 1;
        }

        .sapMessageStrip .content strong {
            font-weight: 700;
            display: block;
            margin-bottom: 0.25rem;
        }

        .sapMessageStrip .closeButton {
            background: none;
            border: none;
            font-size: 1.25rem;
            cursor: pointer;
            color: inherit;
            opacity: 0.7;
            padding: 0;
            line-height: 1;
        }

        .sapMessageStrip .closeButton:hover {
            opacity: 1;
        }

        /* Empty State - Illustrated Message */
        .sapEmptyState {
            text-align: center;
            padding: 3rem 2rem;
        }

        .sapEmptyState .illustration {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.6;
        }

        .sapEmptyState h3 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--sapTitleColor);
            margin-bottom: 0.75rem;
        }

        .sapEmptyState p {
            font-size: 0.875rem;
            color: var(--sapNeutralColor);
            max-width: 500px;
            margin: 0 auto 1.5rem;
            line-height: 1.6;
        }

        /* Link Button */
        .sapLinkButton {
            color: var(--sapLinkColor);
            text-decoration: none;
            font-size: 0.875rem;
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
        }

        .sapLinkButton:hover {
            text-decoration: underline;
        }

        /* Toast Notification - NEW */
        .sapToast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: #32363a;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.25rem;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.3);
            z-index: 3000;
            display: none;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.875rem;
        }

        .sapToast.active {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                transform: translateX(-50%) translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        /* Confirmation Details */
        .confirmationDetails {
            background-color: var(--sapBackgroundColor);
            padding: 1rem;
            border-radius: 0.25rem;
            margin: 1rem 0;
        }

        .confirmationDetails ul {
            list-style: none;
            padding: 0;
        }

        .confirmationDetails li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #e5e5e5;
        }

        .confirmationDetails li:last-child {
            border-bottom: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sapFilterBarContent {
                grid-template-columns: 1fr;
            }

            .sapTableToolbar {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }

            .sapTableToolbarActions {
                flex-wrap: wrap;
            }

            .sapFooterToolbar {
                flex-direction: column;
                gap: 0.75rem;
            }

            .sapFooterToolbarLeft,
            .sapFooterToolbarRight {
                width: 100%;
                justify-content: stretch;
            }

            .sapFooterToolbarLeft .sapButton,
            .sapFooterToolbarRight .sapButton {
                flex: 1;
            }

            .sapShellBar {
                flex-wrap: wrap;
            }

            .sapShellBar .actions {
                width: 100%;
                justify-content: flex-end;
            }

            .sapTable {
                font-size: 0.8125rem;
            }

            .sapTable th,
            .sapTable td {
                padding: 0.5rem;
            }
        }

        /* Card Styles for Data Products */
        .sapCard {
            background-color: var(--sapBaseColor);
            padding: 1.5rem;
            border-radius: 0.25rem;
            border: 1px solid #e5e5e5;
            transition: box-shadow 0.2s;
        }

        .sapCard:hover {
            box-shadow: 0 0 0.5rem 0 rgba(0,0,0,0.15);
        }

        .sapTabContent {
            padding: 1.5rem;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .textCenter {
            text-align: center;
        }

        .textRight {
            text-align: right;
        }

        .mt-1 {
            margin-top: 1rem;
        }

        .mb-1 {
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <!-- Shell Bar with Navigation (NEW) -->
    <div class="sapShellBar">
        <button class="backButton" onclick="navigateBack()" title="Back">
            ‚Üê 
        </button>
        <div class="logo" onclick="navigateHome()" style="cursor: pointer;" title="Home">
            üè† SAP
        </div>
        <div class="title">Supplier Invoices</div>
        <div class="actions">
            <button class="sapShellIconButton" title="Notifications">
                üîî
            </button>
            <button class="sapShellIconButton" title="User Menu">
                üë§
            </button>
            <button class="sapShellIconButton" title="Settings">
                ‚öôÔ∏è
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="sapContainer">
        <!-- List Report -->
        <div class="sapListReport">
            <!-- Filter Bar (NEW from Extended Guidelines) -->
            <div class="sapFilterBar">
                <div class="title">
                    <span>üîç</span>
                    <span>Filters</span>
                    <span style="font-weight: 400; color: var(--sapNeutralColor); margin-left: auto;">(5 active)</span>
                </div>
                
                <div class="sapFilterBarContent">
                    <div class="sapFilterField">
                        <label for="filterSupplier">Supplier</label>
                        <select id="filterSupplier" onchange="applyFilters()">
                            <option value="">All Suppliers</option>
                            <option value="acme">Acme Corporation</option>
                            <option value="tech">Tech Industries Inc</option>
                            <option value="supply">Supply Chain Co</option>
                        </select>
                    </div>

                    <div class="sapFilterField">
                        <label for="filterStatus">Invoice Status</label>
                        <select id="filterStatus" onchange="applyFilters()">
                            <option value="">All Status</option>
                            <option value="PARKED">Parked</option>
                            <option value="POSTED">Posted</option>
                            <option value="HELD">Held</option>
                            <option value="PAID">Paid</option>
                        </select>
                    </div>

                    <div class="sapFilterField">
                        <label for="filterPaymentStatus">Payment Status</label>
                        <select id="filterPaymentStatus" onchange="applyFilters()">
                            <option value="">All</option>
                            <option value="UNPAID">Unpaid</option>
                            <option value="PARTIALLY_PAID">Partially Paid</option>
                            <option value="PAID">Paid</option>
                        </select>
                    </div>

                    <div class="sapFilterField">
                        <label for="filterDateFrom">Invoice Date From</label>
                        <input type="date" id="filterDateFrom" onchange="applyFilters()">
                    </div>

                    <div class="sapFilterField">
                        <label for="filterDateTo">Invoice Date To</label>
                        <input type="date" id="filterDateTo" onchange="applyFilters()">
                    </div>

                    <div class="sapFilterBarSearch">
                        <input 
                            type="text" 
                            id="searchInvoices" 
                            placeholder="Search for invoices..." 
                            oninput="applyFilters()"
                        >
                    </div>
                </div>

                <div class="sapFilterBarActions">
                    <button class="sapButton sapButtonTransparent" onclick="clearFilters()">
                        Clear All
                    </button>
                    <button class="sapButton sapButtonDefault" onclick="adaptFilters()">
                        Adapt Filters
                    </button>
                    <button class="sapButton sapButtonEmphasized" onclick="applyFilters()">
                        Go
                    </button>
                </div>
            </div>

            <!-- Table Toolbar (NEW from Extended Guidelines) -->
            <div class="sapTableToolbar">
                <div class="sapTableTitle">
                    <span>Supplier Invoices</span>
                    <span class="count">(5)</span>
                </div>
                <div class="sapTableToolbarActions">
                    <button class="sapButton sapButtonTransparent" onclick="toggleDataProducts()" title="Data Products">
                        üìã Data Products
                    </button>
                    <button class="sapButton sapButtonTransparent" onclick="sortTable()" title="Sort">
                        ‚¨ç Sort
                    </button>
                    <button class="sapButton sapButtonTransparent" onclick="groupTable()" title="Group">
                        ‚ñ§ Group
                    </button>
                    <button class="sapButton sapButtonTransparent" onclick="exportTable()" title="Export">
                        üìä Export
                    </button>
                    <button class="sapButton sapButtonTransparent" onclick="showColumns()" title="Columns">
                        ‚öôÔ∏è Columns
                    </button>
                    <button class="sapButton sapButtonTransparent" onclick="switchView()" title="View">
                        ‚ñ¶ View
                    </button>
                </div>
            </div>

            <!-- Data Products Tab Content (NEW) -->
            <div class="sapTabContent" id="dataProductsContent" style="display: none;">
                <div class="sapMessageStrip sapMessageStripInfo">
                    <span class="icon">‚ÑπÔ∏è</span>
                    <div class="content">
                        <strong>Data Products</strong>
                        Each data product is a collection container with CSN schemas and metadata. Click a card to view sample data.
                    </div>
                </div>

                <h3 style="font-size: 1.25rem; font-weight: 700; margin: 2rem 0 1rem 0; padding-bottom: 0.5rem; border-bottom: 1px solid #e5e5e5;">
                    Available Data Products (6)
                </h3>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                    <!-- Supplier -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('Supplier')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üì¶ Supplier</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Vendor master data definition including contact information, banking details, and payment terms
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusInfo">Master Data</span>
                            <span class="sapObjectStatus sapStatusSuccess">3 Samples</span>
                        </div>
                    </div>

                    <!-- Purchase Order -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('PurchaseOrder')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üìù Purchase Order</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Purchase order header and item definitions with supplier confirmation tracking
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusSuccess">Transaction</span>
                            <span class="sapObjectStatus sapStatusSuccess">3 Samples</span>
                        </div>
                    </div>

                    <!-- Service Entry Sheet -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('ServiceEntry')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üõ†Ô∏è Service Entry Sheet</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Service confirmation documents with acceptance workflow
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusSuccess">Transaction</span>
                            <span class="sapObjectStatus sapStatusSuccess">2 Samples</span>
                        </div>
                    </div>

                    <!-- Supplier Invoice -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('SupplierInvoice')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üí∞ Supplier Invoice</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Invoice header and item definitions with variance tracking and payment status
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusSuccess">Transaction</span>
                            <span class="sapObjectStatus sapStatusSuccess">5 Samples</span>
                        </div>
                    </div>

                    <!-- Payment Terms -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('PaymentTerms')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üìÖ Payment Terms</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Payment terms master data with discount structures
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusInfo">Master Data</span>
                            <span class="sapObjectStatus sapStatusSuccess">3 Samples</span>
                        </div>
                    </div>

                    <!-- Journal Entry -->
                    <div class="sapCard" style="cursor: pointer;" onclick="showDataProductDetail('JournalEntry')">
                        <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem;">üìä Journal Entry Header</h3>
                        <p style="font-size: 0.875rem; color: var(--sapNeutralColor); margin-bottom: 1rem;">
                            Financial accounting documents with GL postings for invoice posting and payment clearing
                        </p>
                        <div>
                            <span class="sapObjectStatus sapStatusSuccess">Transaction</span>
                            <span class="sapObjectStatus sapStatusSuccess">3 Samples</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Responsive Table with Sample Data -->
            <div class="sapTableContainer">
                <table class="sapTable" id="invoiceTable">
                    <thead>
                        <tr>
                            <th>
                                <input type="checkbox" onclick="toggleSelectAll(this)" title="Select All">
                            </th>
                            <th>Invoice Number</th>
                            <th>Supplier</th>
                            <th>Invoice Date</th>
                            <th>Gross Amount</th>
                            <th>Due Date</th>
                            <th>Invoice Status</th>
                            <th>Payment Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="openInvoiceDetail('INV-2024001')">
                            <td><input type="checkbox" onclick="event.stopPropagation()"></td>
                            <td><strong>INV-2024001</strong></td>
                            <td>Acme Corporation</td>
                            <td>2024-01-15</td>
                            <td class="textRight">$1,234.56</td>
                            <td>2024-02-14</td>
                            <td><span class="sapObjectStatus sapStatusSuccess">Posted</span></td>
                            <td><span class="sapObjectStatus sapStatusSuccess">Paid</span></td>
                            <td>
                                <button class="sapButton sapButtonTransparent" onclick="event.stopPropagation(); showActions('INV-2024001')" title="More Actions">
                                    ‚ãØ
                                </button>
                            </td>
                        </tr>
                        <tr onclick="openInvoiceDetail('INV-2024002')">
                            <td><input type="checkbox" onclick="event.stopPropagation()"></td>
                            <td><strong>INV-2024002</strong></td>
                            <td>Tech Industries Inc</td>
                            <td>2024-01-16</td>
                            <td class="textRight">$5,678.90</td>
                            <td>2024-02-15</td>
                            <td><span class="sapObjectStatus sapStatusSuccess">Posted</span></td>
                            <td><span class="sapObjectStatus sapStatusWarning">Unpaid</span></td>
                            <td>
                                <button class="sapButton sapButtonTransparent" onclick="event.stopPropagation(); showActions('INV-2024002')" title="More Actions">
                                    ‚ãØ
                                </button>
                            </td>
                        </tr>
                        <tr onclick="openInvoiceDetail('INV-2024003')">
                            <td><input type="checkbox" onclick="event.stopPropagation()"></td>
                            <td><strong>INV-2024003</strong></td>
                            <td>Supply Chain Co</td>
                            <td>2024-01-17</td>
                            <td class="textRight">$460.00</td>
                            <td>2024-02-16</td>
                            <td><span class="sapObjectStatus sapStatusError">Held</span></td>
                            <td><span class="sapObjectStatus sapStatusWarning">Unpaid</span></td>
                            <td>
                                <button class="sapButton sapButtonTransparent" onclick="event.stopPropagation(); showActions('INV-2024003')" title="More Actions">
                                    ‚ãØ
                                </button>
                            </td>
                        </tr>
                        <tr onclick="openInvoiceDetail('INV-2024004')">
                            <td><input type="checkbox" onclick="event.stopPropagation()"></td>
                            <td><strong>INV-2024004</strong></td>
                            <td>Global Logistics Ltd</td>
                            <td>2024-01-18</td>
                            <td class="textRight">$2,500.00</td>
                            <td>2024-02-17</td>
                            <td><span class="sapObjectStatus sapStatusSuccess">Posted</span></td>
                            <td><span class="sapObjectStatus sapStatusWarning">Unpaid</span></td>
                            <td>
                                <button class="sapButton sapButtonTransparent" onclick="event.stopPropagation(); showActions('INV-2024004')" title="More Actions">
                                    ‚ãØ
                                </button>
                            </td>
                        </tr>
                        <tr onclick="openInvoiceDetail('INV-2024005')">
                            <td><input type="checkbox" onclick="event.stopPropagation()"></td>
                            <td><strong>INV-2024005</strong></td>
                            <td>Emergency Services LLC</td>
                            <td>2024-01-19</td>
                            <td class="textRight">$890.00</td>
                            <td>2024-02-18</td>
                            <td><span class="sapObjectStatus sapStatusWarning">Parked</span></td>
                            <td><span class="sapObjectStatus sapStatusNeutral">Not Posted</span></td>
                            <td>
                                <button class="sapButton sapButtonTransparent" onclick="event.stopPropagation(); showActions('INV-2024005')" title="More Actions">
                                    ‚ãØ
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Footer Toolbar (NEW from Extended Guidelines) -->
            <div class="sapFooterToolbar">
                <div class="sapFooterToolbarLeft">
                    <button class="sapButton sapButtonReject" onclick="showDeleteConfirmation()">
                        <span>üóëÔ∏è</span> Delete
                    </button>
                </div>
                <div class="sapFooterToolbarRight">
                    <button class="sapButton sapButtonDefault" onclick="exportSelected()">
                        <span>üìä</span> Export Selected
                    </button>
                    <button class="sapButton sapButtonEmphasized" onclick="showCreateDialog()">
                        <span>‚ûï</span> Create Invoice
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Invoice Dialog (NEW from Extended Guidelines) -->
    <div class="sapDialog" id="createDialog">
        <div class="sapDialogContent">
            <div class="sapDialogHeader">
                <h3>Create Supplier Invoice</h3>
                <button class="sapDialogCloseButton" onclick="closeDialog('createDialog')">√ó</button>
            </div>
            <div class="sapDialogBody">
                <form class="sapForm" id="createInvoiceForm">
                    <div class="sapFormField">
                        <label for="supplier">
                            Supplier
                            <span class="required">*</span>
                        </label>
                        <div class="sapInputWithHelp">
                            <input 
                                type="text" 
                                id="supplier" 
                                placeholder="Select supplier..." 
                                required 
                                readonly
                                onclick="showValueHelp('supplier')"
                            >
                            <button type="button" class="sapValueHelpButton" onclick="showValueHelp('supplier')">
                                üîç
                            </button>
                        </div>
                        <span class="helperText">Search and select a supplier from the list</span>
                    </div>

                    <div class="sapFormField">
                        <label for="invoiceNumber">
                            Invoice Number
                            <span class="required">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="invoiceNumber" 
                            placeholder="Enter invoice number..." 
                            required
                        >
                    </div>

                    <div class="sapFormField">
                        <label for="invoiceDate">
                            Invoice Date
                            <span class="required">*</span>
                        </label>
                        <input 
                            type="date" 
                            id="invoiceDate" 
                            required
                        >
                    </div>

                    <div class="sapFormField">
                        <label for="amount">
                            Gross Amount
                            <span class="required">*</span>
                        </label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input 
                                type="number" 
                                id="amount" 
                                placeholder="0.00" 
                                step="0.01"
                                required
                                style="flex: 1;"
                            >
                            <select id="currency" style="width: 100px;">
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="SGD">SGD</option>
                            </select>
                        </div>
                    </div>

                    <div class="sapFormField">
                        <label for="purchaseOrder">Purchase Order</label>
                        <div class="sapInputWithHelp">
                            <input 
                                type="text" 
                                id="purchaseOrder" 
                                placeholder="Select PO (optional)..." 
                                readonly
                                onclick="showValueHelp('po')"
                            >
                            <button type="button" class="sapValueHelpButton" onclick="showValueHelp('po')">
                                üîç
                            </button>
                        </div>
                        <span class="helperText">Link to purchase order for three-way matching</span>
                    </div>
                </form>
            </div>
            <div class="sapDialogFooter">
                <div class="sapDialogFooterLeft">
                    <button class="sapButton sapButtonDefault" onclick="closeDialog('createDialog')">
                        Cancel
                    </button>
                </div>
                <div class="sapDialogFooterRight">
                    <button class="sapButton sapButtonDefault" onclick="saveAsDraft()">
                        Save as Draft
                    </button>
                    <button class="sapButton sapButtonEmphasized" onclick="createInvoice()">
                        Create
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Dialog (NEW from Extended Guidelines) -->
    <div class="sapDialog" id="deleteDialog">
        <div class="sapDialogContent" style="max-width: 480px;">
            <div class="sapDialogHeader">
                <h3>Delete Invoice?</h3>
                <button class="sapDialogCloseButton" onclick="closeDialog('deleteDialog')">√ó</button>
            </div>
            <div class="sapDialogBody">
                <p style="margin-bottom: 1rem;">
                    Are you sure you want to delete invoice <strong>INV-2024001</strong>? 
                    This action cannot be undone.
                </p>
                <div class="sapMessageStripWarning">
                    <span class="icon">‚ö†Ô∏è</span>
                    <div class="content">
                        <strong>Warning</strong>
                        Deleting this invoice will remove it from the system permanently and cannot be recovered.
                    </div>
                </div>
            </div>
            <div class="sapDialogFooter">
                <div class="sapDialogFooterLeft">
                    <button class="sapButton sapButtonDefault" onclick="closeDialog('deleteDialog')">
                        Cancel
                    </button>
                </div>
                <div class="sapDialogFooterRight">
                    <button class="sapButton sapButtonReject" onclick="confirmDelete()">
                        <span>üóëÔ∏è</span> Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Post Invoice Confirmation Dialog (NEW) -->
    <div class="sapDialog" id="postDialog">
        <div class="sapDialogContent" style="max-width: 520px;">
            <div class="sapDialogHeader">
                <h3>Post Invoice?</h3>
                <button class="sapDialogCloseButton" onclick="closeDialog('postDialog')">√ó</button>
            </div>
            <div class="sapDialogBody">
                <p style="margin-bottom: 1rem;">
                    Post invoice <strong>INV-2024002</strong> for <strong>$5,678.90</strong> to General Ledger?
                </p>
                <div class="confirmationDetails">
                    <strong style="display: block; margin-bottom: 0.5rem;">This will:</strong>
                    <ul>
                        <li>‚Ä¢ Create accounting document</li>
                        <li>‚Ä¢ Update payment due date to February 15, 2024</li>
                        <li>‚Ä¢ Send notification to AP team</li>
                        <li>‚Ä¢ Lock invoice for editing</li>
                    </ul>
                </div>
            </div>
            <div class="sapDialogFooter">
                <div class="sapDialogFooterLeft">
                    <button class="sapButton sapButtonDefault" onclick="closeDialog('postDialog')">
                        Cancel
                    </button>
                </div>
                <div class="sapDialogFooterRight">
                    <button class="sapButton sapButtonAccept" onclick="confirmPost()">
                        <span>‚úì</span> Post
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Value Help Dialog (NEW from Extended Guidelines) -->
    <div class="sapDialog" id="valueHelpDialog">
        <div class="sapDialogContent">
            <div class="sapDialogHeader">
                <h3 id="valueHelpTitle">Select Supplier</h3>
                <button class="sapDialogCloseButton" onclick="closeDialog('valueHelpDialog')">√ó</button>
            </div>
            <div class="sapDialogBody">
                <div class="sapFilterBarSearch mb-1">
                    <input 
                        type="text" 
                        id="valueHelpSearch" 
                        placeholder="Search..." 
                        oninput="filterValueHelp()"
                    >
                </div>
                <div class="sapTableContainer" style="max-height: 300px; overflow-y: auto;">
                    <table class="sapTable" id="valueHelpTable">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Name</th>
                                <th>Code</th>
                            </tr>
                        </thead>
                        <tbody id="valueHelpBody">
                            <!-- Populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="sapDialogFooter">
                <div class="sapDialogFooterLeft">
                    <button class="sapButton sapButtonDefault" onclick="closeDialog('valueHelpDialog')">
                        Cancel
                    </button>
                </div>
                <div class="sapDialogFooterRight">
                    <button class="sapButton sapButtonEmphasized" onclick="selectValueHelp()">
                        Select
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast (NEW from Extended Guidelines) -->
    <div class="sapToast" id="toast">
        <span id="toastIcon">‚úì</span>
        <span id="toastMessage">Action completed</span>
    </div>

    <script>
        // Sample Data
        const suppliers = [
            { id: 'SUP001', name: 'Acme Corporation', code: 'ACME' },
            { id: 'SUP002', name: 'Tech Industries Inc', code: 'TECH' },
            { id: 'SUP003', name: 'Supply Chain Co', code: 'SUPPLY' },
            { id: 'SUP004', name: 'Global Logistics Ltd', code: 'GLOBAL' },
            { id: 'SUP005', name: 'Emergency Services LLC', code: 'EMERG' }
        ];

        const purchaseOrders = [
            { id: 'PO-2024001', supplier: 'Acme Corporation', amount: '$1,200.00' },
            { id: 'PO-2024002', supplier: 'Tech Industries Inc', amount: '$5,500.00' },
            { id: 'PO-2024003', supplier: 'Supply Chain Co', amount: '$450.00' },
            { id: 'PO-2024004', supplier: 'Global Logistics Ltd', amount: '$2,400.00' }
        ];

        let currentValueHelpType = '';
        let selectedValueHelpItem = null;

        // Navigation Functions (NEW from Extended Guidelines)
        function navigateBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                navigateHome();
            }
        }

        function navigateHome() {
            showToast('üè†', 'Navigating to Launchpad...');
            // In real app: window.location.href = '/launchpad';
            setTimeout(() => {
                alert('In a real SAP Fiori app, this would navigate to the Launchpad home page.');
            }, 500);
        }

        function openInvoiceDetail(invoiceId) {
            showToast('üìÑ', `Opening invoice ${invoiceId}...`);
            // In real app: window.location.href = `/invoices/${invoiceId}`;
            // For demo: simulate navigation
            setTimeout(() => {
                alert(`In a real SAP Fiori app, this would open the Object Page for ${invoiceId} with:\n\n‚Ä¢ Dynamic page header\n‚Ä¢ Invoice details in sections\n‚Ä¢ Edit/Post/Delete actions\n‚Ä¢ Three-way match status\n‚Ä¢ Payment information`);
            }, 500);
        }

        // Filter Bar Functions (NEW from Extended Guidelines)
        function applyFilters() {
            const supplier = document.getElementById('filterSupplier').value;
            const status = document.getElementById('filterStatus').value;
            const paymentStatus = document.getElementById('filterPaymentStatus').value;
            const search = document.getElementById('searchInvoices').value;
            
            showToast('üîç', 'Applying filters...');
            
            // In real app: fetch data with filters
            console.log('Filters applied:', { supplier, status, paymentStatus, search });
        }

        function clearFilters() {
            document.getElementById('filterSupplier').value = '';
            document.getElementById('filterStatus').value = '';
            document.getElementById('filterPaymentStatus').value = '';
            document.getElementById('filterDateFrom').value = '';
            document.getElementById('filterDateTo').value = '';
            document.getElementById('searchInvoices').value = '';
            showToast('‚úì', 'Filters cleared');
        }

        function adaptFilters() {
            showToast('‚öôÔ∏è', 'Opening Adapt Filters dialog...');
            alert('In a real SAP Fiori app, this would open the Adapt Filters dialog where you can:\n\n‚Ä¢ Show/hide filters\n‚Ä¢ Reorder filters\n‚Ä¢ Set default values\n‚Ä¢ Save as variant');
        }

        // Data Products View (NEW)
        const dataProducts = {
            'Supplier': {
                title: 'Supplier Master Data',
                tables: ['Suppliers'],
                fields: ['SupplierID', 'SupplierName', 'Country', 'Currency', 'IsActive'],
                data: [
                    { SupplierID: 'SUP-001', SupplierName: 'Global Steel Supply Inc', Country: 'US', Currency: 'USD', IsActive: 'Yes' },
                    { SupplierID: 'SUP-002', SupplierName: 'Premium Electronics GmbH', Country: 'DE', Currency: 'EUR', IsActive: 'Yes' },
                    { SupplierID: 'SUP-005', SupplierName: 'Industrial Maintenance Services', Country: 'US', Currency: 'USD', IsActive: 'Yes' }
                ]
            },
            'PurchaseOrder': {
                title: 'Purchase Order Data',
                tables: ['PurchaseOrders', 'PurchaseOrderItems'],
                fields: ['PO_ID', 'Supplier', 'Date', 'Amount', 'Status'],
                data: [
                    { PO_ID: 'PO-2024001', Supplier: 'SUP-001', Date: '2024-01-10', Amount: '5,250 USD', Status: 'Released' },
                    { PO_ID: 'PO-2024002', Supplier: 'SUP-005', Date: '2024-01-15', Amount: '10,500 USD', Status: 'Open' },
                    { PO_ID: 'PO-2024003', Supplier: 'SUP-002', Date: '2024-01-20', Amount: '15,488 EUR', Status: 'Partial' }
                ]
            },
            'ServiceEntry': {
                title: 'Service Entry Sheet Data',
                tables: ['ServiceEntrySheets', 'ServiceEntrySheetItems'],
                fields: ['SES_ID', 'PO', 'Date', 'Status', 'Amount'],
                data: [
                    { SES_ID: 'SES-2024001', PO: 'PO-2024002', Date: '2024-02-20', Status: 'Accepted', Amount: '5,000 USD' },
                    { SES_ID: 'SES-2024002', PO: 'PO-2024004', Date: '2024-03-18', Status: 'Accepted', Amount: '2,550 USD' }
                ]
            },
            'SupplierInvoice': {
                title: 'Supplier Invoice Data',
                tables: ['SupplierInvoices', 'SupplierInvoiceItems'],
                fields: ['Invoice_ID', 'Supplier', 'Date', 'Amount', 'Status'],
                data: [
                    { Invoice_ID: 'INV-2024001', Supplier: 'SUP-001', Date: '2024-02-18', Amount: '5,250 USD', Status: 'Paid' },
                    { Invoice_ID: 'INV-2024002', Supplier: 'SUP-005', Date: '2024-02-22', Amount: '5,250 USD', Status: 'Posted' },
                    { Invoice_ID: 'INV-2024003', Supplier: 'SUP-002', Date: '2024-03-05', Amount: '15,488 EUR', Status: 'Held' },
                    { Invoice_ID: 'INV-2024004', Supplier: 'SUP-004', Date: '2024-03-10', Amount: '2,500 USD', Status: 'Posted' },
                    { Invoice_ID: 'INV-2024005', Supplier: 'SUP-005', Date: '2024-03-12', Amount: '890 USD', Status: 'Parked' }
                ]
            },
            'PaymentTerms': {
                title: 'Payment Terms Data',
                tables: ['PaymentTerms'],
                fields: ['Code', 'Name', 'NetDays', 'DiscountDays', 'DiscountPercent'],
                data: [
                    { Code: 'NET30', Name: 'Net 30 Days', NetDays: 30, DiscountDays: '-', DiscountPercent: '-' },
                    { Code: '2/10NET30', Name: '2% 10 Days Net 30', NetDays: 30, DiscountDays: 10, DiscountPercent: '2.0%' },
                    { Code: 'NET60', Name: 'Net 60 Days', NetDays: 60, DiscountDays: '-', DiscountPercent: '-' }
                ]
            },
            'JournalEntry': {
                title: 'Journal Entry Header Data',
                tables: ['JournalEntries', 'JournalEntryItems'],
                fields: ['Doc', 'Type', 'Date', 'Reference', 'Currency'],
                data: [
                    { Doc: '5000000001', Type: 'KR', Date: '2024-02-20', Reference: 'INV-2024001', Currency: 'USD' },
                    { Doc: '5000000002', Type: 'KZ', Date: '2024-03-20', Reference: 'PAY-2024001', Currency: 'USD' },
                    { Doc: '5000000004', Type: 'KR', Date: '2024-03-08', Reference: 'INV-2024003', Currency: 'EUR' }
                ]
            }
        };

        function toggleDataProducts() {
            const dataProductsView = document.getElementById('dataProductsContent');
            const tableView = document.querySelector('.sapTableContainer');
            const filterBar = document.querySelector('.sapFilterBar');
            const footerToolbar = document.querySelector('.sapFooterToolbar');
            const titleSpan = document.querySelector('.sapTableTitle span:first-child');
            
            if (dataProductsView.style.display === 'none') {
                // Show data products
                dataProductsView.style.display = 'block';
                tableView.style.display = 'none';
                filterBar.style.display = 'none';
                footerToolbar.style.display = 'none';
                titleSpan.textContent = 'Data Products';
                showToast('üìã', 'Showing Data Products view');
            } else {
                // Show invoices
                dataProductsView.style.display = 'none';
                tableView.style.display = 'block';
                filterBar.style.display = 'block';
                footerToolbar.style.display = 'flex';
                titleSpan.textContent = 'Supplier Invoices';
                showToast('üìä', 'Showing Invoices view');
            }
        }

        function showDataProductDetail(productKey) {
            const product = dataProducts[productKey];
            if (!product) return;
            
            // Build table HTML
            let tableHTML = '<table class="sapTable" style="margin-top: 1rem;"><thead><tr>';
            product.fields.forEach(field => {
                tableHTML += `<th>${field}</th>`;
            });
            tableHTML += '</tr></thead><tbody>';
            
            product.data.forEach(row => {
                tableHTML += '<tr>';
                product.fields.forEach(field => {
                    tableHTML += `<td>${row[field]}</td>`;
                });
                tableHTML += '</tr>';
            });
            tableHTML += '</tbody></table>';
            
            // Create dialog content
            const dialogContent = `
                <div class="sapDialog" id="dataProductDialog" style="display: flex;">
                    <div class="sapDialogContent" style="max-width: 800px;">
                        <div class="sapDialogHeader">
                            <h3>${product.title}</h3>
                            <button class="sapDialogCloseButton" onclick="closeDialog('dataProductDialog')">√ó</button>
                        </div>
                        <div class="sapDialogBody">
                            <div style="margin-bottom: 1rem;">
                                <strong>Tables Included:</strong> ${product.tables.join(', ')}
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <strong>Sample Data (${product.data.length} records):</strong>
                            </div>
                            ${tableHTML}
                        </div>
                        <div class="sapDialogFooter">
                            <div class="sapDialogFooterLeft">
                                <button class="sapButton sapButtonDefault" onclick="closeDialog('dataProductDialog')">
                                    Close
                                </button>
                            </div>
                            <div class="sapDialogFooterRight">
                                <button class="sapButton sapButtonDefault" onclick="exportDataProduct('${productKey}')">
                                    <span>üìä</span> Export
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add to body
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = dialogContent;
            document.body.appendChild(tempDiv.firstElementChild);
        }

        function exportDataProduct(productKey) {
            showToast('üìä', `Exporting ${dataProducts[productKey].title}...`);
            closeDialog('dataProductDialog');
        }

        // Table Toolbar Functions (NEW from Extended Guidelines)
        function sortTable() {
            showToast('‚¨ç', 'Opening sort options...');
        }

        function groupTable() {
            showToast('‚ñ§', 'Opening group options...');
        }

        function exportTable() {
            showToast('üìä', 'Exporting to Excel...');
        }

        function showColumns() {
            showToast('‚öôÔ∏è', 'Opening column settings...');
        }

        function switchView() {
            showToast('‚ñ¶', 'Switching view...');
        }

        // Dialog Functions (NEW from Extended Guidelines)
        function showCreateDialog() {
            document.getElementById('createDialog').classList.add('active');
        }

        function closeDialog(dialogId) {
            document.getElementById(dialogId).classList.remove('active');
            if (dialogId === 'createDialog') {
                document.getElementById('createInvoiceForm').reset();
            }
        }

        function showDeleteConfirmation() {
            const selected = document.querySelectorAll('#invoiceTable tbody input[type="checkbox"]:checked').length;
            if (selected === 0) {
                showToast('‚ö†Ô∏è', 'Please select invoices to delete');
                return;
            }
            document.getElementById('deleteDialog').classList.add('active');
        }

        function confirmDelete() {
            closeDialog('deleteDialog');
            showToast('‚úì', 'Invoice deleted');
        }

        function showPostDialog() {
            document.getElementById('postDialog').classList.add('active');
        }

        function confirmPost() {
            closeDialog('postDialog');
            showToast('‚úì', 'Invoice posted to General Ledger');
        }

        // Value Help Functions (NEW from Extended Guidelines)
        function showValueHelp(type) {
            currentValueHelpType = type;
            const valueHelpBody = document.getElementById('valueHelpBody');
            const valueHelpTitle = document.getElementById('valueHelpTitle');
            
            if (type === 'supplier') {
                valueHelpTitle.textContent = 'Select Supplier';
                valueHelpBody.innerHTML = suppliers.map(s => `
                    <tr onclick="selectValueHelpRow(this)" data-id="${s.id}" data-name="${s.name}">
                        <td><input type="radio" name="valueHelp" value="${s.id}"></td>
                        <td><strong>${s.name}</strong></td>
                        <td>${s.code}</td>
                    </tr>
                `).join('');
            } else if (type === 'po') {
                valueHelpTitle.textContent = 'Select Purchase Order';
                valueHelpBody.innerHTML = purchaseOrders.map(po => `
                    <tr onclick="selectValueHelpRow(this)" data-id="${po.id}" data-name="${po.id}">
                        <td><input type="radio" name="valueHelp" value="${po.id}"></td>
                        <td><strong>${po.id}</strong></td>
                        <td>${po.supplier}</td>
                    </tr>
                `).join('');
            }
            
            document.getElementById('valueHelpDialog').classList.add('active');
        }

        function selectValueHelpRow(row) {
            const radio = row.querySelector('input[type="radio"]');
            radio.checked = true;
            selectedValueHelpItem = {
                id: row.dataset.id,
                name: row.dataset.name
            };
        }

        function selectValueHelp() {
            if (!selectedValueHelpItem) {
                showToast('‚ö†Ô∏è', 'Please select an item');
                return;
            }
            
            if (currentValueHelpType === 'supplier') {
                document.getElementById('supplier').value = selectedValueHelpItem.name;
            } else if (currentValueHelpType === 'po') {
                document.getElementById('purchaseOrder').value = selectedValueHelpItem.name;
            }
            
            closeDialog('valueHelpDialog');
            selectedValueHelpItem = null;
        }

        function filterValueHelp() {
            const search = document.getElementById('valueHelpSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#valueHelpTable tbody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(search) ? '' : 'none';
            });
        }

        // Form Submission with Validation (NEW - 3-point validation)
        function createInvoice() {
            const form = document.getElementById('createInvoiceForm');
            
            // Validate form
            if (!form.checkValidity()) {
                // Show validation errors
                const firstInvalid = form.querySelector(':invalid');
                if (firstInvalid) {
                    firstInvalid.focus();
                    firstInvalid.classList.add('error');
                    showToast('‚ùå', 'Please fill in all required fields');
                }
                return;
            }
            
            closeDialog('createDialog');
            showToast('‚úì', 'Invoice created successfully');
            
            // In real app: POST to backend, then refresh table
        }

        function saveAsDraft() {
            closeDialog('createDialog');
            showToast('üíæ', 'Invoice saved as draft');
        }

        // Table Functions
        function toggleSelectAll(checkbox) {
            const checkboxes = document.querySelectorAll('#invoiceTable tbody input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = checkbox.checked);
        }

        function showActions(invoiceId) {
            // In real app: show action sheet
            const actions = [
                'Edit',
                'Post to GL',
                'Copy',
                'Delete',
                '---',
                'View Purchase Order',
                'View Goods Receipt'
            ];
            
            const action = prompt(`Actions for ${invoiceId}:\n\n${actions.join('\n')}\n\nEnter action:`);
            
            if (action === 'Post to GL') {
                showPostDialog();
            } else if (action === 'Delete') {
                showDeleteConfirmation();
            } else if (action) {
                showToast('‚ÑπÔ∏è', `${action} for ${invoiceId}`);
            }
        }

        function exportSelected() {
            const selected = document.querySelectorAll('#invoiceTable tbody input[type="checkbox"]:checked').length;
            if (selected === 0) {
                showToast('‚ö†Ô∏è', 'Please select invoices to export');
                return;
            }
            showToast('üìä', `Exporting ${selected} invoice(s)...`);
        }

        // Toast Notification (NEW from Extended Guidelines)
        function showToast(icon, message) {
            const toast = document.getElementById('toast');
            document.getElementById('toastIcon').textContent = icon;
            document.getElementById('toastMessage').textContent = message;
            
            toast.classList.add('active');
            
            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }

        // Close dialog on ESC key (NEW - accessibility)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const activeDialog = document.querySelector('.sapDialog.active');
                if (activeDialog) {
                    activeDialog.classList.remove('active');
                }
            }
        });

        // Close dialog on backdrop click (NEW - UX)
        document.querySelectorAll('.sapDialog').forEach(dialog => {
            dialog.addEventListener('click', (e) => {
                if (e.target === dialog) {
                    dialog.classList.remove('active');
                }
            });
        });

        // Initialize - set today's date as default
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('invoiceDate').value = today;
            
            // Show welcome message
            showToast('üëã', 'Welcome to Supplier Invoice Management');
        });
    </script>
</body>
</html>
