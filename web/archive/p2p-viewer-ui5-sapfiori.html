<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage P2P Documents - SAP Fiori</title>
    
    <!-- SAPUI5 Bootstrap - Latest Version with Horizon Theme -->
    <script
        id="sap-ui-bootstrap"
        src="https://sdk.openui5.org/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-libs="sap.m,sap.ui.layout,sap.f,sap.ui.core"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-async="true"
        data-sap-ui-resourceroots='{
            "p2p": "./"
        }'>
    </script>

    <script>
        sap.ui.getCore().attachInit(function() {
            "use strict";

            // Create the application shell
            var oApp = new sap.m.App("p2pApp", {
                initialPage: "mainPage"
            });

            // Shell Bar
            var oShellBar = new sap.f.ShellBar({
                title: "Manage P2P Documents",
                showNavButton: false,
                showCopilot: false,
                showSearch: false,
                showNotifications: false,
                showProductSwitcher: false,
                secondTitle: "Procure-to-Pay Workflow Database & Data Model Explorer"
            });

            // Icon Tab Bar for Navigation
            var oIconTabBar = new sap.m.IconTabBar({
                expandable: false,
                items: [
                    new sap.m.IconTabFilter({
                        key: "overview",
                        text: "Overview",
                        icon: "sap-icon://grid",
                        content: createOverviewTab()
                    }),
                    new sap.m.IconTabFilter({
                        key: "database",
                        text: "Database Schema",
                        icon: "sap-icon://database",
                        content: createDatabaseTab()
                    }),
                    new sap.m.IconTabFilter({
                        key: "csn",
                        text: "CSN Models",
                        icon: "sap-icon://documents",
                        content: createCSNTab()
                    }),
                    new sap.m.IconTabFilter({
                        key: "workflow",
                        text: "Workflow",
                        icon: "sap-icon://process",
                        content: createWorkflowTab()
                    }),
                    new sap.m.IconTabFilter({
                        key: "queries",
                        text: "Sample Queries",
                        icon: "sap-icon://search",
                        content: createQueriesTab()
                    }),
                    new sap.m.IconTabFilter({
                        key: "files",
                        text: "Project Files",
                        icon: "sap-icon://folder",
                        content: createFilesTab()
                    })
                ]
            });

            // Main Page
            var oPage = new sap.m.Page("mainPage", {
                customHeader: oShellBar,
                content: [
                    new sap.m.MessageStrip({
                        text: "This is a static HTML viewer. To query the actual database, use SQLite command line or a database tool.",
                        type: "Information",
                        showIcon: true
                    }).addStyleClass("sapUiSmallMargin"),
                    oIconTabBar
                ],
                footer: new sap.m.Bar({
                    contentMiddle: [
                        new sap.m.Text({
                            text: "SAP Fiori Horizon Theme | SAPUI5 Framework | Updated: 2026-01-21"
                        }).addStyleClass("sapUiTinyMarginTop sapUiTinyMarginBottom")
                    ]
                })
            });

            oApp.addPage(oPage);
            oApp.placeAt("content");

            // Helper Functions for Tab Content
            function createOverviewTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        // Statistics Section
                        new sap.m.Title({
                            text: "Project Statistics",
                            level: "H2"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.ui.layout.Grid({
                            defaultSpan: "XL3 L4 M6 S12",
                            content: [
                                createStatCard("Database Tables", "20", "Complete P2P workflow coverage", [
                                    {text: "9 Master Data", state: "Information"},
                                    {text: "11 Transaction", state: "Success"}
                                ]),
                                createStatCard("Pre-Built Views", "7", "Ready-to-use analytical queries", [
                                    {text: "Tracking", state: "None"},
                                    {text: "Performance", state: "None"}
                                ]),
                                createStatCard("CSN Data Models", "5", "SAP S/4HANA definitions", [
                                    {text: "English Only", state: "Success"}
                                ]),
                                createStatCard("Sample Scenarios", "5", "Realistic P2P workflows", [
                                    {text: "Complete", state: "Success"}
                                ])
                            ]
                        }).addStyleClass("sapUiSmallMarginTop"),

                        // Key Features Section
                        new sap.m.Title({
                            text: "Key Features",
                            level: "H2"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.ui.layout.Grid({
                            defaultSpan: "XL4 L6 M6 S12",
                            content: [
                                createFeatureCard("âœ… Three-Way Matching", "Automated matching between Purchase Order, Goods Receipt or Service Entry, and Invoice with variance detection"),
                                createFeatureCard("ðŸ”” Variance Detection", "Automatic detection of price, quantity, and date variances with blocking capabilities"),
                                createFeatureCard("ðŸ’° Payment Management", "Payment terms with cash discounts, payment runs, and multiple payment methods"),
                                createFeatureCard("ðŸŒ Multi-Currency Support", "Support for multiple currencies (USD, EUR, SGD) with exchange rate tracking"),
                                createFeatureCard("ðŸ› ï¸ Service Procurement", "Complete Service Entry Sheet workflow with manager acceptance process"),
                                createFeatureCard("ðŸ“ Complete Audit Trail", "Full tracking of who created and posted documents with timestamps")
                            ]
                        }).addStyleClass("sapUiSmallMarginTop")
                    ]
                });
                return oVBox;
            }

            function createDatabaseTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        new sap.m.Bar({
                            contentLeft: [
                                new sap.m.Title({
                                    text: "Database Schema (20 Tables)",
                                    level: "H2"
                                })
                            ],
                            contentRight: [
                                new sap.m.Button({
                                    text: "Export",
                                    icon: "sap-icon://excel-attachment",
                                    press: function() {
                                        sap.m.MessageToast.show("Export functionality would be implemented here");
                                    }
                                })
                            ]
                        }),

                        // Master Data Tables
                        new sap.m.Title({
                            text: "Master Data Tables (9)",
                            level: "H3"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.m.Table({
                            columns: [
                                new sap.m.Column({header: new sap.m.Text({text: "Table Name"})}),
                                new sap.m.Column({header: new sap.m.Text({text: "Description"}), minScreenWidth: "Tablet", demandPopin: true}),
                                new sap.m.Column({header: new sap.m.Text({text: "Key Fields"}), minScreenWidth: "Desktop", demandPopin: true}),
                                new sap.m.Column({header: new sap.m.Text({text: "Type"}), hAlign: "Center"})
                            ],
                            items: [
                                createTableRow("Suppliers", "Vendor master data with contact, financial, and banking info", "SupplierID, SupplierName, PaymentTermsCode", "Information"),
                                createTableRow("PaymentTerms", "Payment terms with discount structures", "PaymentTermsCode, NetPaymentDays", "Information"),
                                createTableRow("CompanyCodes", "Legal entities", "CompanyCode, CompanyName, Currency", "Information"),
                                createTableRow("Plants", "Physical locations and delivery addresses", "PlantID, PlantName, CompanyCode", "Information"),
                                createTableRow("CostCenters", "Cost accounting objects", "CostCenter, CostCenterName", "Information"),
                                createTableRow("Materials", "Product master data", "MaterialID, MaterialDescription", "Information"),
                                createTableRow("Services", "Service master data", "ServiceID, ServiceDescription", "Information")
                            ]
                        }).addStyleClass("sapUiSmallMarginTop"),

                        // Transaction Tables
                        new sap.m.Title({
                            text: "Transaction Tables (11)",
                            level: "H3"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.m.Table({
                            columns: [
                                new sap.m.Column({header: new sap.m.Text({text: "Table Name"})}),
                                new sap.m.Column({header: new sap.m.Text({text: "Description"}), minScreenWidth: "Tablet", demandPopin: true}),
                                new sap.m.Column({header: new sap.m.Text({text: "Status Values"}), minScreenWidth: "Desktop", demandPopin: true})
                            ],
                            items: [
                                createTransactionTableRow("PurchaseOrders", "Purchase order headers", [
                                    {text: "Created", state: "None"},
                                    {text: "Released", state: "Success"}
                                ]),
                                createTransactionTableRow("SupplierInvoices", "Invoice headers with status tracking", [
                                    {text: "Parked", state: "Warning"},
                                    {text: "Posted", state: "Success"},
                                    {text: "Held", state: "Error"},
                                    {text: "Paid", state: "Success"}
                                ]),
                                createTransactionTableRow("ServiceEntrySheets", "Service confirmations", [
                                    {text: "Created", state: "None"},
                                    {text: "Accepted", state: "Success"},
                                    {text: "Rejected", state: "Error"}
                                ]),
                                createTransactionTableRow("InvoicePayments", "Payment execution records", [
                                    {text: "Proposed", state: "Warning"},
                                    {text: "Released", state: "Information"},
                                    {text: "Executed", state: "Success"}
                                ])
                            ]
                        }).addStyleClass("sapUiSmallMarginTop"),

                        // Pre-Built Views
                        new sap.m.Title({
                            text: "Pre-Built Views (7)",
                            level: "H3"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.m.Table({
                            columns: [
                                new sap.m.Column({header: new sap.m.Text({text: "View Name"})}),
                                new sap.m.Column({header: new sap.m.Text({text: "Purpose"})})
                            ],
                            items: [
                                createViewRow("vw_CompleteP2PTracking", "End-to-end tracking from PO to Payment"),
                                createViewRow("vw_OutstandingInvoices", "All unpaid invoices with days overdue"),
                                createViewRow("vw_InvoiceVariances", "Invoices with price or quantity variances"),
                                createViewRow("vw_SupplierPerformance", "Supplier metrics and KPIs"),
                                createViewRow("vw_ServiceEntrySheetStatus", "Service entry sheet tracking"),
                                createViewRow("vw_PurchaseOrderStatus", "Purchase order summary with quantities"),
                                createViewRow("vw_PaymentTermsUsage", "Payment terms utilization statistics")
                            ]
                        }).addStyleClass("sapUiSmallMarginTop")
                    ]
                });
                return oVBox;
            }

            function createCSNTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        new sap.m.Title({
                            text: "CSN Data Models (5 Files)",
                            level: "H2"
                        }),
                        
                        new sap.m.MessageStrip({
                            text: "Core Schema Notation (CSN) - SAP S/4HANA API definitions with English-only translations extracted from multi-language source files.",
                            type: "Information",
                            showIcon: true
                        }).addStyleClass("sapUiSmallMarginTop"),

                        new sap.ui.layout.Grid({
                            defaultSpan: "XL6 L6 M12 S12",
                            content: [
                                createCSNCard("ðŸ“¦ Supplier", "sap-s4com-Supplier-v1.en.json", "Vendor master data definition including contact information, banking details, and payment terms", "Information"),
                                createCSNCard("ðŸ“ Purchase Order", "sap-s4com-PurchaseOrder-v1.en.json", "Purchase order header and item definitions with supplier confirmation tracking", "Success"),
                                createCSNCard("ðŸ› ï¸ Service Entry Sheet", "sap-s4com-ServiceEntrySheet-v1.en.json", "Service confirmation documents with acceptance workflow", "Success"),
                                createCSNCard("ðŸ’° Supplier Invoice", "sap-s4com-SupplierInvoice-v1.en.json", "Invoice header and item definitions with variance tracking and payment status", "Success"),
                                createCSNCard("ðŸ“… Payment Terms", "sap-s4com-PaymentTerms-v1.en.json", "Payment terms master data with discount structures", "Information")
                            ]
                        }).addStyleClass("sapUiSmallMarginTop")
                    ]
                });
                return oVBox;
            }

            function createWorkflowTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        new sap.m.Title({
                            text: "Procure-to-Pay Workflow",
                            level: "H2"
                        }),
                        
                        new sap.m.Panel({
                            headerText: "Workflow Steps",
                            content: [
                                new sap.m.VBox({
                                    alignItems: "Center",
                                    items: [
                                        createWorkflowStep("1. SUPPLIER MASTER DATA", ""),
                                        createWorkflowArrow(),
                                        createWorkflowStep("2. PURCHASE ORDER", "Release & Approval"),
                                        createWorkflowArrow(),
                                        createWorkflowBranch(),
                                        createWorkflowArrow(),
                                        createWorkflowStep("4. SUPPLIER INVOICE", "Three-Way Match & Variance Check"),
                                        createWorkflowArrow(),
                                        createWorkflowStep("5. PAYMENT PROCESSING", "Cash Discount & Payment Run")
                                    ]
                                })
                            ]
                        }).addStyleClass("sapUiSmallMarginTop"),

                        new sap.m.Title({
                            text: "Sample Process Scenarios",
                            level: "H3"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        createScenarioCard(
                            "Scenario 1: Material Procurement (Complete Cycle)",
                            "PO-2024001 â†’ GR-2024001 â†’ INV-2024001 â†’ PAY-2024001",
                            "Purchase steel â†’ Goods received â†’ Invoice posted â†’ Payment executed",
                            "Paid",
                            "Success"
                        ),
                        
                        createScenarioCard(
                            "Scenario 2: Service Procurement (Awaiting Payment)",
                            "PO-2024002 â†’ SES-2024001 â†’ INV-2024002",
                            "Order maintenance â†’ Service performed & accepted â†’ Invoice posted",
                            "Posted (Unpaid)",
                            "Warning"
                        ),
                        
                        createScenarioCard(
                            "Scenario 3: Price Variance (Blocked)",
                            "PO-2024003 â†’ GR-2024002 â†’ INV-2024003",
                            "Issue: Supplier charged 460 EUR instead of PO price 450 EUR",
                            "Held (Price Variance)",
                            "Error"
                        )
                    ]
                });
                return oVBox;
            }

            function createQueriesTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        new sap.m.Title({
                            text: "Sample SQL Queries",
                            level: "H2"
                        }),
                        
                        new sap.m.MessageStrip({
                            text: "Copy these queries and run them in SQLite or your preferred database tool.",
                            type: "Information",
                            showIcon: true
                        }).addStyleClass("sapUiSmallMarginTop"),

                        createQueryCard("1. Complete P2P Cycle for Specific PO", "View entire document flow from PO to Payment", "SELECT * FROM vw_CompleteP2PTracking \nWHERE PurchaseOrderID = 'PO-2024001';"),
                        createQueryCard("2. Outstanding Invoices", "Find all unpaid invoices with overdue tracking", "SELECT * FROM vw_OutstandingInvoices\nORDER BY PaymentDueDate;"),
                        createQueryCard("3. Invoices with Variances", "Find blocked invoices with price or quantity mismatches", "SELECT * FROM vw_InvoiceVariances\nWHERE BlockingReason IS NOT NULL\nORDER BY InvoiceDate DESC;"),
                        createQueryCard("4. Supplier Performance Report", "Analyze supplier metrics and KPIs", "SELECT * FROM vw_SupplierPerformance\nORDER BY TotalInvoiceAmount DESC;"),
                        createQueryCard("5. Cash Discount Opportunities", "Find invoices eligible for early payment discounts", "SELECT \n  si.InvoiceID,\n  s.SupplierName,\n  si.GrossAmount,\n  si.CashDiscount1Amount,\n  CAST(julianday(si.CashDiscount1Date) - julianday('now') AS INTEGER) AS DaysRemaining\nFROM SupplierInvoices si\nJOIN Suppliers s ON si.SupplierID = s.SupplierID\nWHERE si.PaymentStatus = 'UNPAID'\n  AND si.CashDiscount1Date >= date('now')\nORDER BY DaysRemaining;")
                    ]
                });
                return oVBox;
            }

            function createFilesTab() {
                var oVBox = new sap.m.VBox({
                    items: [
                        new sap.m.Title({
                            text: "Project Files",
                            level: "H2"
                        }),
                        
                        createFileListCard("Database Files", [
                            {name: "p2p_complete_workflow_sqlite.sql", badges: [{text: "20 Tables", state: "Success"}, {text: "7 Views", state: "Success"}, {text: "Sample Data", state: "Success"}]},
                            {name: "p2p_supplier_invoice_sqlite.sql", badges: [{text: "12 Tables", state: "Information"}, {text: "Simplified", state: "Success"}]}
                        ]),
                        
                        createFileListCard("CSN Model Files (English-Only)", [
                            {name: "sap-s4com-Supplier-v1.en.json", size: "~2.0 MB"},
                            {name: "sap-s4com-PurchaseOrder-v1.en.json", size: "~4.7 MB"},
                            {name: "sap-s4com-ServiceEntrySheet-v1.en.json", size: "~816 KB"},
                            {name: "sap-s4com-SupplierInvoice-v1.en.json", size: "~967 KB"},
                            {name: "sap-s4com-PaymentTerms-v1.en.json", size: "~442 KB"}
                        ]),
                        
                        createFileListCard("Documentation Files", [
                            {name: "P2P_COMPLETE_WORKFLOW_README.md", desc: "Complete database documentation"},
                            {name: "SAP_FIORI_DESIGN_GUIDELINES.md", desc: "Fiori design reference (8 pages)"},
                            {name: "SAP_FIORI_GUIDELINES_APPLICATION_AUDIT.md", desc: "Guidelines application audit"},
                            {name: "PROJECT_SUMMARY.md", desc: "Project overview and summary"}
                        ]),

                        new sap.m.Title({
                            text: "Quick Start Commands",
                            level: "H3"
                        }).addStyleClass("sapUiMediumMarginTop"),
                        
                        new sap.m.Panel({
                            headerText: "Create Database",
                            content: [
                                new sap.m.FormattedText({
                                    htmlText: "<pre style='background: #1e1e1e; color: #d4d4d4; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; font-family: monospace;'>sqlite3 p2p_complete.db < p2p_complete_workflow_sqlite.sql</pre>"
                                })
                            ]
                        }).addStyleClass("sapUiSmallMarginTop"),
                        
                        new sap.m.Panel({
                            headerText: "Query Database",
                            content: [
                                new sap.m.FormattedText({
                                    htmlText: "<pre style='background: #1e1e1e; color: #d4d4d4; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; font-family: monospace;'>sqlite3 p2p_complete.db\n\nsqlite> SELECT * FROM vw_CompleteP2PTracking;</pre>"
                                })
                            ]
                        }).addStyleClass("sapUiSmallMarginTop")
                    ]
                });
                return oVBox;
            }

            // Helper function to create stat cards
            function createStatCard(title, number, description, badges) {
                var oBadges = new sap.m.HBox({
                    wrap: "Wrap",
                    items: badges.map(function(badge) {
                        return new sap.m.ObjectStatus({
                            text: badge.text,
                            state: badge.state
                        }).addStyleClass("sapUiTinyMarginEnd sapUiTinyMarginTop");
                    })
                });

                return new sap.m.Panel({
                    headerText: title,
                    content: [
                        new sap.m.VBox({
                            items: [
                                new sap.m.Title({
                                    text: number,
                                    level: "H1"
                                }).addStyleClass("sapUiTinyMarginTop"),
                                new sap.m.Text({
                                    text: description
                                }).addStyleClass("sapUiTinyMarginTop"),
                                oBadges
                            ]
                        })
                    ]
                }).addStyleClass("sapUiTinyMargin");
            }

            // Helper function to create feature cards
            function createFeatureCard(title, description) {
                return new sap.m.Panel({
                    headerText: title,
                    content: [
                        new sap.m.Text({
                            text: description
                        })
                    ]
                }).addStyleClass("sapUiTinyMargin");
            }

            // Helper function to create table rows
            function createTableRow(name, description, keyFields, state) {
                return new sap.m.ColumnListItem({
                    cells: [
                        new sap.m.Text({text: name, wrapping: false}).addStyleClass("sapUiTinyMarginEnd"),
                        new sap.m.Text({text: description}),
                        new sap.m.Text({text: keyFields}),
                        new sap.m.ObjectStatus({text: "Master", state: state})
                    ]
                });
            }

            // Helper function to create transaction table rows
            function createTransactionTableRow(name, description, statuses) {
                var oStatusBox = new sap.m.HBox({
                    wrap: "Wrap",
                    items: statuses.map(function(status) {
                        return new sap.m.ObjectStatus({
                            text: status.text,
                            state: status.state
                        }).addStyleClass("sapUiTinyMarginEnd sapUiTinyMarginTop");
                    })
                });

                return new sap.m.ColumnListItem({
                    cells: [
                        new sap.m.Text({text: name}).addStyleClass("sapUiTinyMarginEnd"),
                        new sap.m.Text({text: description}),
                        oStatusBox
                    ]
                });
            }

            // Helper function to create view rows
            function createViewRow(name, purpose) {
                return new sap.m.ColumnListItem({
                    cells: [
                        new sap.m.Text({text: name}).addStyleClass("sapUiTinyMarginEnd"),
                        new sap.m.Text({text: purpose})
                    ]
                });
            }

            // Helper function to create CSN cards
            function createCSNCard(title, filename, description, state) {
                return new sap.m.Panel({
                    headerText: title,
                    content: [
                        new sap.m.VBox({
                            items: [
                                new sap.m.Text({
                                    text: "File: " + filename
                                }).addStyleClass("sapUiTinyMarginTop"),
                                new sap.m.Text({
                                    text: description
                                }).addStyleClass("sapUiTinyMarginTop"),
                                new sap.m.ObjectStatus({
                                    text: state === "Information" ? "Master Data" : "Transaction",
                                    state: state
                                }).addStyleClass("sapUiTinyMarginTop")
                            ]
                        })
                    ]
                }).addStyleClass("sapUiTinyMargin");
            }

            // Helper function to create workflow steps
            function createWorkflowStep(title, subtitle) {
                var items = [
                    new sap.m.Button({
                        text: title,
                        type: "Emphasized",
                        width: "300px"
                    }).addStyleClass("sapUiTinyMarginTop")
                ];
                
                if (subtitle) {
                    items.push(new sap.m.Text({
                        text: subtitle
                    }).addStyleClass("sapUiTinyMarginTop"));
                }
                
                return new sap.m.VBox({
                    alignItems: "Center",
                    items: items
                });
            }

            // Helper function to create workflow arrow
            function createWorkflowArrow() {
                return new sap.m.Text({
                    text: "â†“"
                }).addStyleClass("sapUiLargeMarginTop sapUiLargeMarginBottom");
            }

            // Helper function to create workflow branch
            function createWorkflowBranch() {
                return new sap.m.HBox({
                    justifyContent: "Center",
                    items: [
                        new sap.m.Button({
                            text: "3a. GOODS RECEIPT\n(Materials)",
                            type: "Accept",
                            width: "200px"
                        }).addStyleClass("sapUiTinyMarginEnd"),
                        new sap.m.Text({text: "OR"}).addStyleClass("sapUiMediumMarginTop"),
                        new sap.m.Button({
                            text: "3b. SERVICE ENTRY\n(Services)",
                            type: "Accept",
                            width: "200px"
                        }).addStyleClass("sapUiTinyMarginBegin")
                    ]
                });
            }

            // Helper function to create scenario cards
            function createScenarioCard(title, flow, description, status, state) {
                return new sap.m.Panel({
                    headerText: title,
                    content: [
                        new sap.m.VBox({
                            items: [
                                new sap.m.Text({
                                    text: "Flow: " + flow
                                }).addStyleClass("sapUiTinyMarginTop"),
                                new sap.m.Text({
                                    text: description
                                }).addStyleClass("sapUiTinyMarginTop"),
                                new sap.m.ObjectStatus({
                                    text: status,
                                    state: state
                                }).addStyleClass("sapUiTinyMarginTop")
                            ]
                        })
                    ]
                }).addStyleClass("sapUiSmallMarginTop");
            }

            // Helper function to create query cards
            function createQueryCard(title, description, query) {
                return new sap.m.Panel({
                    headerText: title,
                    content: [
                        new sap.m.Text({
                            text: description
                        }).addStyleClass("sapUiTinyMarginBottom"),
                        new sap.m.FormattedText({
                            htmlText: "<pre style='background: #1e1e1e; color: #d4d4d4; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; font-family: monospace; font-size: 0.875rem; line-height: 1.6;'>" + query + "</pre>"
                        })
                    ]
                }).addStyleClass("sapUiSmallMarginTop");
            }

            // Helper function to create file list cards
            function createFileListCard(title, files) {
                var oList = new sap.m.List({
                    items: files.map(function(file) {
                        var description = file.desc || "";
                        if (file.size) {
                            description = file.size;
                        }
                        if (file.badges) {
                            var badges = new sap.m.HBox({
                                wrap: "Wrap",
                                items: file.badges.map(function(badge) {
                                    return new sap.m.ObjectStatus({
                                        text: badge.text,
                                        state: badge.state
                                    }).addStyleClass("sapUiTinyMarginEnd sapUiTinyMarginTop");
                                })
                            });
                            return new sap.m.StandardListItem({
                                title: file.name,
                                description: badges
                            });
                        }
                        return new sap.m.StandardListItem({
                            title: file.name,
                            description: description
                        });
                    })
                });

                return new sap.m.Panel({
                    headerText: title,
                    content: [oList]
                }).addStyleClass("sapUiSmallMarginTop");
            }
        });
    </script>
</head>
<body class="sapUiBody" id="content">
</body>
</html>
