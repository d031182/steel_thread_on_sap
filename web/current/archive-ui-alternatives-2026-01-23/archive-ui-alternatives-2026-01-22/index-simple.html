<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Data Products - SAPUI5</title>
    
    <!-- Load SAPUI5 from Official SAP CDN -->
    <script
        id="sap-ui-bootstrap"
        src="https://sdk.openui5.org/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-libs="sap.m,sap.f,sap.ui.layout,sap.ui.core"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-async="true">
    </script>

    <script>
        sap.ui.getCore().attachInit(function() {
            "use strict";

            // Create data model
            var oModel = new sap.ui.model.json.JSONModel({
                dataProducts: [
                    {
                        id: "supplier",
                        name: "Supplier",
                        subtitle: "Vendor Master Data",
                        icon: "sap-icon://supplier",
                        description: "Vendor master data definition including contact information, banking details, and payment terms",
                        type: "Master Data",
                        tablesCount: 1,
                        samplesCount: 3
                    },
                    {
                        id: "purchaseOrder",
                        name: "Purchase Order",
                        subtitle: "Procurement Documents",
                        icon: "sap-icon://sales-order",
                        description: "Purchase order header and item definitions with supplier confirmation tracking",
                        type: "Transaction",
                        tablesCount: 2,
                        samplesCount: 5
                    },
                    {
                        id: "serviceEntry",
                        name: "Service Entry Sheet",
                        subtitle: "Service Confirmations",
                        icon: "sap-icon://wrench",
                        description: "Service confirmation documents with acceptance workflow",
                        type: "Transaction",
                        tablesCount: 2,
                        samplesCount: 4
                    },
                    {
                        id: "supplierInvoice",
                        name: "Supplier Invoice",
                        subtitle: "Accounts Payable Documents",
                        icon: "sap-icon://money-bills",
                        description: "Invoice header and item definitions with variance tracking and payment status",
                        type: "Transaction",
                        tablesCount: 2,
                        samplesCount: 7
                    },
                    {
                        id: "paymentTerms",
                        name: "Payment Terms",
                        subtitle: "Payment Conditions",
                        icon: "sap-icon://payment-approval",
                        description: "Payment terms master data with discount structures",
                        type: "Master Data",
                        tablesCount: 1,
                        samplesCount: 3
                    },
                    {
                        id: "journalEntry",
                        name: "Journal Entry Header",
                        subtitle: "Financial Accounting Documents",
                        icon: "sap-icon://activity-items",
                        description: "Financial accounting documents with GL postings for invoice posting and payment clearing",
                        type: "Transaction",
                        tablesCount: 2,
                        samplesCount: 5
                    }
                ]
            });

            // Create App
            var oApp = new sap.m.App("app");

            // Create Page with Shell Bar
            var oPage = new sap.m.Page({
                title: "Data Products Catalog",
                showNavButton: false,
                customHeader: new sap.f.ShellBar({
                    title: "P2P Data Products",
                    secondTitle: "SAPUI5 + Fiori Horizon",
                    showNavButton: false,
                    showCopilot: false,
                    showSearch: true,
                    showNotifications: true,
                    notificationsNumber: "3",
                    profile: new sap.f.Avatar({ initials: "UI" }),
                    menu: new sap.m.Menu({
                        items: [
                            new sap.m.MenuItem({
                                text: "Data Products",
                                press: function() {
                                    sap.m.MessageToast.show("Already on Data Products page");
                                }
                            }),
                            new sap.m.MenuItem({
                                text: "Explorer",
                                press: function() {
                                    sap.m.MessageToast.show("Explorer page coming soon!");
                                }
                            }),
                            new sap.m.MenuItem({
                                text: "HANA Connection",
                                press: function() {
                                    sap.m.MessageToast.show("HANA Connection page coming soon!");
                                }
                            })
                        ]
                    })
                }),
                content: [
                    new sap.m.VBox({
                        items: [
                            new sap.m.Title({
                                text: "Data Products Catalog",
                                level: "H1"
                            }).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginTop"),
                            new sap.m.Text({
                                text: "Browse and explore P2P data products - Real SAPUI5 Components"
                            }).addStyleClass("sapUiSmallMarginBegin sapUiSmallMarginBottom"),
                            
                            new sap.ui.layout.cssgrid.CSSGrid({
                                gridTemplateColumns: "repeat(auto-fill, minmax(20rem, 1fr))",
                                gridGap: "1rem",
                                items: {
                                    path: "/dataProducts",
                                    template: new sap.f.Card({
                                        width: "100%",
                                        header: new sap.f.cards.Header({
                                            title: "{name}",
                                            subtitle: "{subtitle}",
                                            iconSrc: "{icon}",
                                            iconDisplayShape: "Circle"
                                        }),
                                        content: new sap.m.VBox({
                                            items: [
                                                new sap.m.Text({
                                                    text: "{description}",
                                                    maxLines: 3
                                                }).addStyleClass("sapUiTinyMarginBottom"),
                                                new sap.m.HBox({
                                                    justifyContent: "SpaceBetween",
                                                    items: [
                                                        new sap.m.ObjectStatus({
                                                            text: "{type}",
                                                            state: "{= ${type} === 'Master Data' ? 'Information' : 'Success'}"
                                                        }),
                                                        new sap.m.ObjectStatus({
                                                            text: "{tablesCount} Tables",
                                                            state: "None"
                                                        })
                                                    ]
                                                }).addStyleClass("sapUiTinyMarginTop"),
                                                new sap.m.ObjectStatus({
                                                    text: "{samplesCount} Samples",
                                                    state: "Success"
                                                }).addStyleClass("sapUiTinyMarginTop"),
                                                new sap.m.Button({
                                                    text: "View Details",
                                                    type: "Emphasized",
                                                    width: "100%",
                                                    press: function(oEvent) {
                                                        var oContext = oEvent.getSource().getBindingContext();
                                                        var sProductId = oContext.getProperty("id");
                                                        sap.m.MessageToast.show("Viewing details for: " + sProductId);
                                                    }
                                                }).addStyleClass("sapUiSmallMarginTop")
                                            ]
                                        }).addStyleClass("sapUiSmallMargin")
                                    }).addStyleClass("sapUiSmallMargin")
                                }
                            }).addStyleClass("sapUiSmallMargin")
                        ]
                    })
                ],
                footer: new sap.m.OverflowToolbar({
                    content: [
                        new sap.m.ToolbarSpacer(),
                        new sap.m.Text({
                            text: "P2P Data Products v3.0 â€¢ SAPUI5 + Fiori Horizon"
                        }),
                        new sap.m.ToolbarSpacer(),
                        new sap.m.Button({
                            text: "Switch to Custom HTML",
                            icon: "sap-icon://palette",
                            press: function() {
                                window.location.href = "../index.html";
                            }
                        })
                    ]
                })
            });

            // Set model and add page to app
            oPage.setModel(oModel);
            oApp.addPage(oPage);
            oApp.placeAt("content");
        });
    </script>
</head>
<body class="sapUiBody sapUiSizeCompact" id="content">
    <!-- SAPUI5 will render here -->
</body>
</html>
